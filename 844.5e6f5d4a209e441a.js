"use strict";(self.webpackChunkeprofile=self.webpackChunkeprofile||[]).push([[844],{5844:(E,g,o)=>{o.r(g),o.d(g,{UsersModule:()=>P});var u=o(6895),m=o(9299),c=o(727),b=o(6289),e=o(4650),v=o(4706),p=o(1245),Z=o(8739);const q=function(s){return["/panel/student/form",s]};function A(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",13),e._UZ(11,"i",14),e.qZA(),e.TgZ(12,"button",15),e.NdJ("click",function(){const d=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteStudent(d.id))}),e._UZ(13,"i",16),e.qZA()()()}if(2&s){const t=r.$implicit;e.xp6(2),e.Oqu(t.full_name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.competence_level.name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,q,t.id))}}const M=function(){return["/panel/student/form"]};let S=(()=>{class s{constructor(t,i){this.StudentService=t,this.messageService=i,this.subscription=new c.w0,this.size=10,this.page=0,this.totalRows=0,this.Roles=b.G,this.isLoading=!0}ngOnInit(){this.getStudents()}getStudents(){this.subscription.add(this.StudentService.getList({page:this.page+1,page_size:this.size}).subscribe({next:t=>{this.students=t.results,this.totalRows=t.count,this.isLoading=!1},error:t=>{}}))}onPaginationChange(t){this.page=t.pageIndex,this.size=t.pageSize,this.getStudents()}deleteStudent(t){this.subscription.add(this.StudentService.delete(t).subscribe({next:()=>{this.getStudents(),this.messageService.showSuccess("Student deleted successfully !")}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.V),e.Y36(p.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-students"]],decls:27,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","title-container"],[1,"create-rounded-btn","ms-3",3,"routerLink"],[1,"fa-solid","fa-circle-plus"],[1,"card","col-12","shadow","px-2","px-md-3","py-4","my-2"],[1,"table-responsive"],[1,"table","table-hover"],["aria-hidden","true",1,"fs-5","fa","fa-cog","text-muted"],[4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"page-footer-box","pagination"],["aria-label","Select page",1,"custom-paginator","float-right",3,"pageIndex","length","pageSize","page"],[1,"btn","btn-primary","create-btn","ms-3","mt-2","mt-lg-0",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger","create-btn","ms-3","mt-2","mt-lg-0",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Students List"),e.qZA(),e.TgZ(5,"button",3),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Full Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Phone"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Compentence Level"),e.qZA(),e.TgZ(20,"th"),e._UZ(21,"i",8),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,A,14,7,"tr",9),e.qZA()()()(),e.TgZ(24,"div",10)(25,"div",11)(26,"mat-paginator",12),e.NdJ("page",function(d){return i.onPaginationChange(d)}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(5,M)),e.xp6(18),e.Q6J("ngForOf",i.students),e.xp6(3),e.Q6J("pageIndex",i.page)("length",i.totalRows)("pageSize",i.size))},dependencies:[u.sg,m.rH,Z.NW]}),s})();var n=o(4006),y=o(2858),_=o(4060),I=o(646),C=o(3238),f=o(9549),L=o(4385),x=o(1572),w=o(7816);function J(s,r){1&s&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"mat-progress-spinner",21),e.qZA()())}function N(s,r){if(1&s&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}const O=function(){return["/panel/students"]};let T=(()=>{class s{constructor(t,i,a,d,l,h){this.formBuilder=t,this.validationMessagesService=i,this.studentService=a,this.router=d,this.messageService=l,this.activatedRoute=h,this.subscription=new c.w0,this.submitted=!1,this.competenceLevelList=[{id:1,name:"R1",description:"R1"},{id:2,name:"R2",description:"R1"},{id:3,name:"R3",description:"R1"},{id:4,name:"R4",description:"R1"},{id:5,name:"R5",description:"R1"},{id:6,name:"R6",description:"R1"},{id:7,name:"R7",description:"R1"}]}ngOnInit(){this.subscription.add(this.activatedRoute.params.subscribe(t=>{this.studentId=t.id,this.studentId&&this.getStudentById()})),this.initForm()}initForm(){this.studentForm=this.formBuilder.group({id:[""],full_name:["",n.kI.required],email:["",n.kI.required],phone:["",n.kI.required],birth_of_date:["",n.kI.required],password:["",n.kI.required],competence_level:["",n.kI.required]}),this.full_name=this.studentForm.controls.full_name,this.email=this.studentForm.controls.email,this.competence_level=this.studentForm.controls.competence_level,this.phone=this.studentForm.controls.phone,this.birth_of_date=this.studentForm.controls.birth_of_date,this.password=this.studentForm.controls.password}submit(){this.studentForm.valid?(this.submitted=!0,this.studentId?this.updateStudent():this.createStudent()):this.validationMessagesService.validateAllFormFields(this.studentForm)}handleValidators(){this.studentId?this.password.clearValidators():this.password.addValidators(n.kI.required),this.password.updateValueAndValidity()}createStudent(){this.subscription.add(this.studentService.add(this.studentForm.value).subscribe({next:t=>{this.router.navigateByUrl("/panel/students"),this.messageService.showSuccess("Student created successfully")},error:t=>{this.submitted=!1},complete:()=>{this.submitted=!1}}))}updateStudent(){this.studentForm.controls.id.patchValue(this.studentId),this.subscription.add(this.studentService.update(this.studentForm.value).subscribe({next:t=>{this.router.navigateByUrl("/panel/students"),this.messageService.showInfo("Student updated successfully")},error:t=>{this.messageService.showError(t),this.submitted=!1},complete:()=>{this.submitted=!1}}))}getStudentById(){this.isLoading=!0,this.subscription.add(this.studentService.get(this.studentId).subscribe({next:t=>{this.handleValidators(),this.isLoading=!1,this.full_name.patchValue(t.full_name),this.email.patchValue(t.email),this.birth_of_date.patchValue(t.birth_of_date),this.phone.patchValue(t.phone),this.competence_level.patchValue(t.competence_level)}}))}compareObjects(t,i){return t?.id==i?.id}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(n.qu),e.Y36(y.J),e.Y36(v.V),e.Y36(m.F0),e.Y36(p.e),e.Y36(m.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-student-form"]],decls:34,vars:25,consts:[[1,"container"],[1,"row"],[1,"card","form-card","col-12","shadow","mt-3"],["class","overlay",4,"ngIf"],[1,"card-body","py-4"],[1,"col-md-6","col-lg-4","mb-2"],["fieldName","Full Name",1,"control",3,"control","maxLength","type"],["fieldName","Email",1,"control",3,"control","maxLength","type"],["fieldName","Phone",1,"control",3,"control","maxLength","type","OnlyNumber"],["fieldName","Date",3,"control"],["appearance","outline",1,"col-md-6","col-lg-4","mb-2","mb-2"],[3,"formControl","compareWith"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"control","fieldName"],["id","password-field","fieldName","Password",3,"control","type","maxLength"],[1,"col-12","d-flex","justify-content-end","py-3"],[1,"btn","create-button","custom-shadow","me-2",3,"routerLink"],[1,"btn","create-button","custom-shadow",3,"click"],[1,"overlay"],[1,"center"],["diameter","70","mode","indeterminate","color","[primary]"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,J,3,0,"div",3),e.TgZ(4,"div",4)(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"form")(8,"div",1)(9,"div",5),e._UZ(10,"app-input-text",6),e.qZA(),e.TgZ(11,"div",5),e._UZ(12,"app-input-text",7),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"app-input-text",8),e.qZA(),e.TgZ(15,"div",5),e._UZ(16,"app-input-date",9),e.qZA(),e.TgZ(17,"mat-form-field",10)(18,"mat-label"),e._uU(19,"Compentence Level"),e.qZA(),e.TgZ(20,"mat-select",11)(21,"mat-option",12),e._uU(22," Choose "),e.qZA(),e.YNc(23,N,2,2,"mat-option",13),e.qZA(),e.TgZ(24,"mat-error"),e._UZ(25,"app-select-control-message",14),e.qZA()(),e.TgZ(26,"div",5),e._UZ(27,"app-input-text",15),e.qZA(),e.TgZ(28,"div",16)(29,"div",16)(30,"button",17),e._uU(31," Back "),e.qZA(),e.TgZ(32,"button",18),e.NdJ("click",function(){return i.submit()}),e._uU(33),e.qZA()()()()()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.submitted),e.xp6(3),e.hij("",i.studentId?"Update":"Create New"," Student"),e.xp6(4),e.Q6J("control",i.full_name)("maxLength",150)("type","text"),e.xp6(2),e.Q6J("control",i.email)("maxLength",150)("type","text"),e.xp6(2),e.Q6J("control",i.phone)("maxLength",100)("type","text")("OnlyNumber",!0),e.xp6(2),e.Q6J("control",i.birth_of_date),e.xp6(4),e.Q6J("formControl",i.competence_level)("compareWith",i.compareObjects),e.xp6(1),e.Q6J("value",""),e.xp6(2),e.Q6J("ngForOf",i.competenceLevelList),e.xp6(2),e.Q6J("control",i.competence_level)("fieldName","Compentence Level"),e.xp6(2),e.Q6J("control",i.password)("type","password")("maxLength",50),e.xp6(3),e.Q6J("routerLink",e.DdM(24,O)),e.xp6(3),e.hij(" ",i.studentId?"Update":"Create"," "))},dependencies:[u.sg,u.O5,m.rH,_.m,I.K,C.ey,f.TO,f.KE,f.hX,L.gD,x.Ou,n._Y,n.JJ,n.JL,n.F,n.oH,w.v]}),s})();var F=o(5686),Q=o(2654);const R=function(s){return["/panel/staff-member/form",s]};function V(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",14),e._UZ(11,"i",15),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){const d=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteSatffMember(d.id))}),e._UZ(13,"i",17),e.qZA()()()}if(2&s){const t=r.$implicit;e.xp6(2),e.Oqu(t.full_name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.specialty),e.xp6(2),e.Q6J("routerLink",e.VKq(5,R,t.id))}}const Y=function(){return["/panel/staff-member/form"]};let k=(()=>{class s{constructor(t,i,a){this.staffMemberService=t,this.storeService=i,this.messageService=a,this.subscription=new c.w0,this.size=10,this.page=0,this.totalRows=0,this.Roles=b.G}ngOnInit(){this.getLoggedInUser(),this.getStaffMembers()}getStaffMembers(){this.subscription.add(this.staffMemberService.getList({page:this.page+1,page_size:this.size}).subscribe({next:t=>{this.staffMembers=t.results,this.totalRows=t.count},error:t=>{}}))}onPaginationChange(t){this.page=t.pageIndex,this.size=t.pageSize,this.getStaffMembers()}getLoggedInUser(){this.subscription.add(this.storeService.getLoggedInUser().subscribe(t=>{this.userRole=t?.role}))}deleteSatffMember(t){this.subscription.add(this.staffMemberService.delete(t).subscribe({next:()=>{this.getStaffMembers(),this.messageService.showSuccess("Staff member deleted successfully !")}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(F.N),e.Y36(Q.d),e.Y36(p.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-staff-members"]],decls:28,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","title-container"],[1,"create-rounded-btn","ms-3",3,"routerLink"],[1,"fa-solid","fa-circle-plus"],[1,"card","shadow"],[1,"col-12","px-2","px-md-3","py-4","my-2"],[1,"table-responsive"],[1,"table","table-hover"],["aria-hidden","true",1,"fs-5","fa","fa-cog","text-muted"],[4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"page-footer-box","pagination"],["aria-label","Select page",1,"custom-paginator","float-right",3,"pageIndex","length","pageSize","page"],[1,"btn","btn-primary","create-btn","ms-3","mt-2","mt-lg-0",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger","create-btn","ms-3","mt-2","mt-md-0",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Staff Members List"),e.qZA(),e.TgZ(5,"button",3),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead")(12,"tr")(13,"th"),e._uU(14,"Full Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Email"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Phone"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Specialty"),e.qZA(),e.TgZ(21,"th"),e._UZ(22,"i",9),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,V,14,7,"tr",10),e.qZA()()()(),e.TgZ(25,"div",11)(26,"div",12)(27,"mat-paginator",13),e.NdJ("page",function(d){return i.onPaginationChange(d)}),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(5,Y)),e.xp6(19),e.Q6J("ngForOf",i.staffMembers),e.xp6(3),e.Q6J("pageIndex",i.page)("length",i.totalRows)("pageSize",i.size))},dependencies:[u.sg,m.rH,Z.NW]}),s})();function z(s,r){1&s&&(e.TgZ(0,"div",14)(1,"div",15),e._UZ(2,"mat-progress-spinner",16),e.qZA()())}const B=function(){return["/panel/staff-members"]};let U=(()=>{class s{constructor(t,i,a,d,l,h){this.formBuilder=t,this.validationMessagesService=i,this.staffMemberService=a,this.router=d,this.messageService=l,this.activatedRoute=h,this.subscription=new c.w0,this.submitted=!1}ngOnInit(){this.subscription.add(this.activatedRoute.params.subscribe(t=>{this.staffMemberId=t.id,this.staffMemberId&&this.getStaffMemberById()})),this.initForm()}initForm(){this.staffmemberForm=this.formBuilder.group({id:[""],full_name:["",n.kI.required],email:["",n.kI.required],specialty:["",n.kI.required],phone:["",n.kI.required],password:["",n.kI.required]}),this.full_name=this.staffmemberForm.controls.full_name,this.email=this.staffmemberForm.controls.email,this.specialty=this.staffmemberForm.controls.specialty,this.phone=this.staffmemberForm.controls.phone,this.password=this.staffmemberForm.controls.password}submit(){this.staffmemberForm.valid?(this.submitted=!0,this.staffMemberId?this.updateStaffMember():this.createStaffMember()):this.validationMessagesService.validateAllFormFields(this.staffmemberForm)}handleValidators(){this.staffMemberId?this.password.clearValidators():this.password.addValidators(n.kI.required),this.password.updateValueAndValidity()}createStaffMember(){this.subscription.add(this.staffMemberService.add(this.staffmemberForm.value).subscribe({next:t=>{this.router.navigateByUrl("/panel/staff-members"),this.messageService.showSuccess("Staff member created successfully")},error:t=>{this.submitted=!1},complete:()=>{this.submitted=!1}}))}updateStaffMember(){this.staffmemberForm.controls.id.patchValue(this.staffMemberId),this.subscription.add(this.staffMemberService.update(this.staffmemberForm.value).subscribe({next:t=>{this.router.navigateByUrl("/panel/staff-members"),this.messageService.showInfo("Staff member updated successfully")},error:t=>{this.messageService.showError(t.email),this.submitted=!1},complete:()=>{this.submitted=!1}}))}getStaffMemberById(){this.subscription.add(this.staffMemberService.get(this.staffMemberId).subscribe({next:t=>{this.handleValidators(),this.full_name.patchValue(t.full_name),this.email.patchValue(t.email),this.specialty.patchValue(t.specialty),this.phone.patchValue(t.phone)}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(n.qu),e.Y36(y.J),e.Y36(F.N),e.Y36(m.F0),e.Y36(p.e),e.Y36(m.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-staff-member-form"]],decls:24,vars:21,consts:[[1,"container"],[1,"row"],[1,"card","form-card","col-12","shadow","mt-3"],["class","overlay",4,"ngIf"],[1,"card-body","py-4"],[1,"col-md-6","col-lg-4"],["fieldName","Full Name",1,"control",3,"control","maxLength","type"],["fieldName","Email",1,"control",3,"control","maxLength","type"],["fieldName","Phone",1,"control",3,"control","maxLength","type","OnlyNumber"],["fieldName","Specialty",1,"control",3,"control","maxLength","type"],["id","password-field","fieldName","Password",3,"control","type","maxLength"],[1,"col-12","d-flex","justify-content-end","py-3"],[1,"btn","create-button","custom-shadow","me-2",3,"routerLink"],[1,"btn","create-button","custom-shadow",3,"click"],[1,"overlay"],[1,"center"],["diameter","70","mode","indeterminate","color","[primary]"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,z,3,0,"div",3),e.TgZ(4,"div",4)(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"form")(8,"div",1)(9,"div",5),e._UZ(10,"app-input-text",6),e.qZA(),e.TgZ(11,"div",5),e._UZ(12,"app-input-text",7),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"app-input-text",8),e.qZA(),e.TgZ(15,"div",5),e._UZ(16,"app-input-text",9),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"app-input-text",10),e.qZA(),e.TgZ(19,"div",11)(20,"button",12),e._uU(21," Back "),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return i.submit()}),e._uU(23),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.submitted),e.xp6(3),e.hij("",i.staffMemberId?"Update":"Create New"," Staff Members"),e.xp6(4),e.Q6J("control",i.full_name)("maxLength",150)("type","text"),e.xp6(2),e.Q6J("control",i.email)("maxLength",150)("type","text"),e.xp6(2),e.Q6J("control",i.phone)("maxLength",100)("type","text")("OnlyNumber",!0),e.xp6(2),e.Q6J("control",i.specialty)("maxLength",150)("type","text"),e.xp6(2),e.Q6J("control",i.password)("type","password")("maxLength",50),e.xp6(2),e.Q6J("routerLink",e.DdM(20,B)),e.xp6(3),e.hij(" ",i.staffMemberId?"Update":"Create"," "))},dependencies:[u.O5,m.rH,_.m,x.Ou,n._Y,n.JL,n.F]}),s})();var j=o(5305);const D=[{path:"students",component:S},{path:"student/form",component:T},{path:"student/form/:id",component:T},{path:"students",component:S},{path:"staff-members",component:k},{path:"staff-member/form",component:U},{path:"staff-member/form/:id",component:U}];let P=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,m.Bz.forChild(D),j.m,n.UX]}),s})()}}]);